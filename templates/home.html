<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Price Recommendation - Dynamic Pricing Engine</title>
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üéØ Dynamic Pricing Engine</h1>
        <p>Enter product details to get AI-powered price recommendation</p>
        <a href="{{ url_for('index') }}" class="back-link">‚Üê Back to Home</a>
    </div>

    <div class="form-container">
        <form method="POST" action="{{ url_for('predict_datapoint') }}">
            <!-- Pricing Info -->
            <div class="form-section">
                <h3>üí∞ Pricing Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="current_price">Current Price (‚Çπ)</label>
                        <input type="number" step="0.01" id="current_price" name="current_price" required>
                    </div>
                    <div class="form-group">
                        <label for="competitor_price">Competitor Price (‚Çπ)</label>
                        <input type="number" step="0.01" id="competitor_price" name="competitor_price" required>
                    </div>
                    <div class="form-group">
                        <label for="cost">Product Cost (‚Çπ)</label>
                        <input type="number" step="0.01" id="cost" name="cost" required>
                    </div>
                </div>
            </div>

            <!-- Market Conditions -->
            <div class="form-section">
                <h3>üìÖ Time & Market Conditions</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="day_of_week">Day of Week</label>
                        <select id="day_of_week" name="day_of_week" required>
                            <option value="">Select...</option>
                            <option value="0">Monday</option>
                            <option value="1">Tuesday</option>
                            <option value="2">Wednesday</option>
                            <option value="3">Thursday</option>
                            <option value="4">Friday</option>
                            <option value="5">Saturday</option>
                            <option value="6">Sunday</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="month">Month</label>
                        <select id="month" name="month" required>
                            <option value="">Select...</option>
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="is_weekend">Is Weekend?</label>
                        <select id="is_weekend" name="is_weekend" required>
                            <option value="0">No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="is_festival">Is Festival Period?</label>
                        <select id="is_festival" name="is_festival" required>
                            <option value="0">No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Product Info -->
            <div class="form-section">
                <h3>üì¶ Product Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="inventory_level">Inventory Level</label>
                        <select id="inventory_level" name="inventory_level" required>
                            <option value="">Select...</option>
                            <option value="Low">Low</option>
                            <option value="Medium">Medium</option>
                            <option value="High">High</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="customer_segment">Customer Segment</label>
                        <select id="customer_segment" name="customer_segment" required>
                            <option value="">Select...</option>
                            <option value="Budget">Budget</option>
                            <option value="Standard">Standard</option>
                            <option value="Premium">Premium</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="category">Product Category</label>
                        <select id="category" name="category" required>
                            <option value="">Select...</option>
                            <option value="Electronics">Electronics</option>
                            <option value="Accessories">Accessories</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="submit-button">üöÄ Get Recommendation</button>
        </form>
    </div>

    <!-- Error / Results -->
    {% if error %}
    <div class="error-box">
        <h3>‚ùå Error</h3>
        <p>{{ error }}</p>
    </div>
    {% endif %}

    {% if results %}
    <div class="results-container">
        <h2>üìä Recommendation Results</h2>
        <div class="results-grid">
            <div class="result-card highlight">
                <h4>Recommended Action</h4>
                <p class="big-text">{{ results.action }}</p>
            </div>
            <div class="result-card highlight">
                <h4>Recommended Price</h4>
                <p class="big-text">{{ results.recommended_price }}</p>
            </div>
        </div>
        <div class="results-grid">
            <div class="result-card">
                <h4>Current Price</h4>
                <p>{{ results.current_price }}</p>
            </div>
            <div class="result-card">
                <h4>Current Demand</h4>
                <p>{{ results.current_demand }}</p>
            </div>
            <div class="result-card">
                <h4>Predicted Demand</h4>
                <p>{{ results.predicted_demand }}</p>
            </div>
        </div>
        <div class="results-grid">
            <div class="result-card">
                <h4>Current Profit</h4>
                <p>{{ results.current_profit }}</p>
            </div>
            <div class="result-card">
                <h4>Expected Profit</h4>
                <p>{{ results.expected_profit }}</p>
            </div>
            <div class="result-card {{ results.improvement_class }}">
                <h4>Profit Improvement</h4>
                <p class="big-text">{{ results.improvement_pct }}</p>
            </div>
        </div>
    </div>
    {% endif %}

    <footer>
        <p>Built by Soham | January 2026</p>
    </footer>
</div>
</body>
</html>
